"use strict";(self["webpackChunkweb"]=self["webpackChunkweb"]||[]).push([[338],{4338:function(e,o,l){l.r(o),l.d(o,{default:function(){return g}});var n=l(6768);const t={style:{"text-align":"center"}};function a(e,o,l,a,s,r){const i=(0,n.g2)("rocket-two-tone"),c=(0,n.g2)("a-input"),u=(0,n.g2)("a-form-item"),d=(0,n.g2)("a-button"),m=(0,n.g2)("a-form"),b=(0,n.g2)("a-col"),g=(0,n.g2)("a-row");return(0,n.uX)(),(0,n.Wv)(g,{class:"login"},{default:(0,n.k6)((()=>[(0,n.bF)(b,{span:8,offset:8,class:"login-main"},{default:(0,n.k6)((()=>[(0,n.Lk)("h1",t,[(0,n.bF)(i),(0,n.eW)(" 12306售票系统")]),(0,n.bF)(m,{model:e.loginForm,name:"basic",autocomplete:"off"},{default:(0,n.k6)((()=>[(0,n.bF)(u,{label:"",name:"mobile",rules:[{required:!0,message:"请输入手机号!"}]},{default:(0,n.k6)((()=>[(0,n.bF)(c,{value:e.loginForm.mobile,"onUpdate:value":o[0]||(o[0]=o=>e.loginForm.mobile=o),placeholder:"手机号"},null,8,["value"])])),_:1}),(0,n.bF)(u,{label:"",name:"code",rules:[{required:!0,message:"请输入验证码!"}]},{default:(0,n.k6)((()=>[(0,n.bF)(c,{value:e.loginForm.code,"onUpdate:value":o[2]||(o[2]=o=>e.loginForm.code=o)},{addonAfter:(0,n.k6)((()=>[(0,n.Lk)("a",{onClick:o[1]||(o[1]=(...o)=>e.sendCode&&e.sendCode(...o))},"获取验证码")])),_:1},8,["value"])])),_:1}),(0,n.bF)(u,null,{default:(0,n.k6)((()=>[(0,n.bF)(d,{type:"primary",block:"",onClick:e.login},{default:(0,n.k6)((()=>[(0,n.eW)("登录")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])])),_:1})])),_:1})}l(4114);var s=l(144),r=l(8355),i=l(5108),c=l(1387),u=l(5129),d=(0,n.pM)({name:"login-view",setup(){const e=(0,c.rd)(),o=(0,s.Kh)({mobile:"13000000000",code:""}),l=()=>{r.A.post("/member/send-code",{mobile:o.mobile}).then((e=>{let l=e.data;l.success?(i.A.success({description:"发送验证码成功！"}),o.code="8888"):i.A.error({description:l.message})}))},n=()=>{r.A.post("/member/login",o).then((o=>{let l=o.data;l.success?(i.A.success({description:"登录成功！"}),e.push("/"),u.A.commit("setMember",l.content)):i.A.error({description:l.message})}))};return{loginForm:o,sendCode:l,login:n}}}),m=l(1241);const b=(0,m.A)(d,[["render",a]]);var g=b}}]);
//# sourceMappingURL=338.0efc8eec.js.map